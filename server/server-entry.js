import{defineComponent as R,resolveComponent as S,useSSRContext as A,onMounted as I,getCurrentInstance as P,h as T,markRaw as g,createApp as U,unref as b}from"vue";import{Quasar as E}from"quasar";import{ssrRenderComponent as H}from"vue/server-renderer";import{createPinia as q}from"pinia";import{createRouter as L,createMemoryHistory as M}from"vue-router";const f=R({__name:"App",__ssrInlineRender:!0,setup(t){return(e,r,n,o)=>{const a=S("router-view");r(H(a,o,null,n))}}}),_=f.setup;f.setup=(t,e)=>{const r=A();return(r.modules||(r.modules=new Set)).add("src/App.vue"),_?_(t,e):void 0};const m=t=>t,X=m,N=m,O=m,l=O(()=>q()),Q=[{path:"/",component:()=>import("./assets/MainLayout-C3oWDbTk.js"),children:[{path:"",component:()=>import("./assets/IndexPage-9lVxltos.js")}]},{path:"/:catchAll(.*)*",component:()=>import("./assets/ErrorNotFound-dp36zpSu.js")}],d=N(function(){return L({scrollBehavior:()=>({left:0,top:0}),routes:Q,history:M("/")})}),B=R({name:"AppWrapper",setup(t){return I(()=>{const{proxy:{$q:e}}=P();e.onSSRHydrated!==void 0&&e.onSSRHydrated()}),()=>T(f,t)}});async function C(t,e,r){const n=t(B);n.use(E,e,r);const o=typeof l=="function"?await l({ssrContext:r}):l;n.use(o),typeof window<"u"&&window.__INITIAL_STATE__!==void 0&&(o.state.value=window.__INITIAL_STATE__,delete window.__INITIAL_STATE__);const a=g(typeof d=="function"?await d({ssrContext:r,store:o}):d);return o.use(({store:u})=>{u.router=a}),{app:n,store:o,router:a}}const $={config:{}},k="/",F=/^https?:\/\//;function W(t,e){if(typeof t=="string"&&F.test(t)===!0)return t;try{return e.resolve(t).href}catch{}return t}function w(t){const e=t.url||t.req.url;try{const r=new URL(e);return r.pathname+r.search+r.hash}catch{return e}}const{components:Y,directives:Z,...z}=$;let i=null,y=Promise.allSettled([import("./assets/axios-IZBeEPJd.js")]).then(t=>t.map(e=>{if(e.status==="rejected"){console.error("[Quasar] boot error:",e.reason);return}return e.value.default})).then(t=>t.filter(e=>typeof e=="function"));const j=t=>new Promise(async(e,r)=>{i===null&&(i=await y,y=null);const{app:n,router:o,store:a}=await C(U,z,t);let u=!1;const v=(c,s)=>{u=!0,r({url:W(c,o),code:s})};for(let c=0;u===!1&&c<i.length;c++)try{await i[c]({app:n,router:o,store:a,ssrContext:t,redirect:v,urlPath:w(t),publicPath:k})}catch(s){r(s);return}if(u===!0)return;n.use(o);const p=w(t),{fullPath:h}=o.resolve(p);if(h!==p)return r({url:h});o.push(p).catch(()=>{}),o.isReady().then(()=>{if(o.currentRoute.value.matched.filter(s=>s.components!==void 0).flatMap(s=>Object.values(s.components)).length===0)return r({code:404});t.state=b(a.state),e(n)}).catch(r)});export{X as d,j as default};
